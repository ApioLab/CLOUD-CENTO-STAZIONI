<style>
	.md-errors-spacer {
	    min-height: 1px !important;
    }
    .content_loader_export_button {
	    margin: 1px auto;
	    font-size: 4.5px;
	    border: 1.3em solid rgba(200, 200, 200, 0.6);
	    border-left-color: rgba(120, 120, 120, 0.70);
    }
    
    #ApioApplicationLog .table-hover tbody tr:hover td, #ApioApplicationLog .table-hover tbody tr:hover th {
        background-color: rgba(244, 214, 48, 0.9);
    }

    #export_file .content_loader, #export_file .content_loader:after {
        width: 4em;
        height: 4em;
        margin: 0;
        border: 0.8em solid rgba(200, 200, 200, 0.6);
        border-left-color: rgba(120, 120, 120, 0.70);
    }
    #export_file {
        position: fixed;
        top: 0;
        height: 58px;
        background-color: white;
        border-bottom: solid 1px rgba(142, 142, 142, 0.35);
        padding: 0.8% 1.5%;
    }

    .table_title_container {
        margin: 57px 0 0 0;
    }

    .table_content {
        margin-top: 77px;
    }
    
    .export_description {
	    margin-bottom: 0px;
		padding: 0 16px;
    }

    @media only screen and (min-width: 320px) and (max-width: 479px) {
        #export_file {
            top: 50px;
        }

        .image-dim {
            float: right;
            height: 35px;
        }

        .table_title_container {
            margin: 54px 0 0 0;
        }

        .table_content {
            margin-top: 34px;
        }

        .table-font {
            font-size: 12px;
        }
    }

    @media only screen and (min-width: 480px) and (max-width: 767px) {
        #export_file {
            top: 50px;
        }

        .image-dim {
            float: right;
            height: 35px;
        }

        .table-font {
            font-size: 12px;
        }
    }

    @media only screen and (min-width: 768px) and (max-width: 991px) {
        #export_file {
            top: 50px;
        }

        .image-dim {
            height: 35px;
            line-height: 0;
            float: right;
        }

        .table-font {
            font-size: 11px !important;
        }
    }

    @media only screen and (min-width: 992px) {
        .image-dim {
            height: 35px;
            line-height: 0;
            float: right;
        }

        .table-font {
            font-size: 11px !important;
        }
    }
</style>
<div id="ApioApplicationLog" ng-app="ApioApplicationLog">
    <div ng-controller="defaultController">
        <div id="app_log" style="display: block; background-color: white;">
            <!--<div id="export_file" ng-click="exportToXLSX()" style="cursor: pointer;">
                <div class="testo_proprietaiPhone" style="width: 100%; cursor: pointer !important;">
                    Esporta su file (.xslx)
                </div>
                <div class="verticalAlign">
                    <img id="img_export" src="images/export.png" ng-show="xslx_ready === true" class="image-dim">
                    <div style="float: right;" ng-show="xslx_ready === false">
                        <div class="content_loader"></div>
                    </div>
                </div>
            </div>
            <div id="more_data" ng-show="showMoreData" class="row" style="position: fixed;">
                <form name="moreDataForm">
                    <div class="row">
                        <input name="moreDataForm" type="radio" ng-click="setMoreData('period')" ng-selected="moreData === 'period'" />
                        <label>Periodo</label>
                    </div>
                    <div class="row">
                        <input name="moreDataForm" type="radio" ng-click="setMoreData('total')" ng-selected="moreData === 'total'" />
                        <label>Totale</label>
                    </div>
                </form>

                <form name="periodData" ng-show="moreData === 'period'">
                    <div class="row">
                        <div class="col-xs-6">
                            <label>Inizio: </label>
                            <input name="periodData" type="text" placeholder="YYYY-MM-AA" ng-model="periodData.from"/>
                        </div>
                        <div class="col-xs-6">
                            <label>Fine: </label>
                            <input name="periodData" type="text" placeholder="YYYY-MM-AA" ng-model="periodData.to"/>
                        </div>
                    </div>
                </form>

                <div id="confirm" ng-click="exportToXLSX()">
                    <button type="button">Ok</button>
                </div>
            </div>-->

            <!-- VECCHIO -->
            <!--<collapse label="Export Excel" propertyname="excel">-->
                <!--<collapse label="Export All" propertyname="excelAll">-->
                    <!--<div class="col-xs-6">-->
                    <!--</div>-->
                    <!--<div class="col-xs-6">-->
                        <!--<div style="width: 30px; margin-left: auto; margin-right: auto;">-->
                            <!--<i class="material-icons" style="font-size: 30px;" ng-click="exportToXLSX('total')">done</i>-->
                        <!--</div>-->
                    <!--</div>-->
                <!--</collapse>-->
                <!--<collapse label="Export a period" propertyname="excelPeriod">-->
                    <!--<md-list-item style="margin-top: 5%;">-->
                        <!--<md-input-container>-->
                            <!--<label>From</label>-->
                            <!--<input id="start" ng-model="periodData.from" data-date-time-picker data-language="it"-->
                                   <!--data-pick12HourFormat="false" placeholder="YYYY-MM-AA">-->
                        <!--</md-input-container>-->
                        <!--<md-input-container>-->
                            <!--<label>To</label>-->
                            <!--<input id="end" ng-model="periodData.to" data-date-time-picker data-language="it"-->
                                   <!--data-pick12HourFormat="false" placeholder="YYYY-MM-AA">-->
                        <!--</md-input-container>-->
                    <!--</md-list-item>-->
                    <!--<md-list-item>-->
                        <!--<div class="col-xs-6">-->
                        <!--</div>-->
                        <!--<div class="col-xs-6">-->
                            <!--<div style="width: 30px; margin-left: auto; margin-right: auto;">-->
                                <!--<i class="material-icons" style="font-size: 30px;" ng-click="exportToXLSX('period')">done</i>-->
                            <!--</div>-->
                        <!--</div>-->
                    <!--</md-list-item>-->
                <!--</collapse>-->
            <!--</collapse>-->
            <collapse label="Export Excel" propertyname="excel">
                <md-list>
                	<p class="export_description">Select the period you want to export:</p>
                	<md-list-item>
                		<select class="form-control" ng-model="$parent.$parent.mode" ng-options="key as value for (key, value) in {'all': 'Export All', 'period': 'Export Period'}"></select>
                	</md-list-item>
                	<md-list-item ng-show="periodPicker" style="margin-top: 6px;">
                        <md-input-container>
                            <label>From</label>
                            <input id="start" ng-model="periodData.from" data-date-time-picker data-language="it" data-pick12HourFormat="false" placeholder="YYYY-MM-AA">
                        </md-input-container>
                        <md-input-container>
                            <label>To</label>
                            <input id="end" ng-model="periodData.to" data-date-time-picker data-language="it" data-pick12HourFormat="false" placeholder="YYYY-MM-AA">
                        </md-input-container>
                    </md-list-item>
                    <p class="export_description">Select the data density:</p>
                	<md-list-item>
                		<select class="form-control" ng-model="$parent.$parent.function" ng-options="key as value for (key, value) in {'all': 'Punctual', 'avg-15': 'Average (every 15 minutes)'}"></select>
                	</md-list-item>
                	<md-list-item style="margin-top: 10px;">
                		<button type="button" class="btn btn-block btn-success" ng-click="exportToXLSX()" ng-class="{'btn-success': xslx_ready === true, 'btn-warning': xslx_ready === false}">
                			<span ng-show="xslx_ready === true">Export <i class="glyphicon glyphicon-download-alt"></i></span>
                			<span ng-show="xslx_ready === false"><div class="content_loader content_loader_export_button"></div></span>
                		</button>
                	</md-list-item>
                </md-list>
                
                
<!--
                <div class="row">
                    <select ng-model="$parent.$parent.mode" ng-options="key as value for (key, value) in {'all': 'Export All', 'period': 'Export Period'}"></select>
                </div>

                <div class="row">
                    <md-list-item ng-show="periodPicker">
                        <md-input-container>
                            <label>From</label>
                            <input id="start" ng-model="periodData.from" data-date-time-picker data-language="it" data-pick12HourFormat="false">
                        </md-input-container>
                        <md-input-container>
                            <label>To</label>
                            <input id="end" ng-model="periodData.to" data-date-time-picker data-language="it" data-pick12HourFormat="false">
                        </md-input-container>
                    </md-list-item>
                </div>

                <div class="row">
                    <select ng-model="$parent.$parent.function" ng-options="key as value for (key, value) in {'all': 'Puntuale', 'avg-15': 'Media (ogni 15 minuti)'}"></select>
                </div>

                <div class="row">
                    <button type="button" ng-click="exportToXLSX()">Conferma</button>
                </div>
-->
            </collapse>

            <!--
            <div class="row table_title_container">
	            <div class="table-responsive" style="position: fixed;">
	                <table class="table table-font table-striped table-hover">
	                    <tr class="firstTrTableLog">
	                        <th>Data</th>
	                        <th ng-repeat="l in tableLabels">{{l}}</th>
	                    </tr>
	                </table>
	            </div>
            </div>
            
            table_content
            -->
            <div class="table-responsive">
                <table class="table table-font table-striped table-hover" id="logs-table">
                    <thead>
                    <tr class="firstTrTableLog">
                        <th>Data</th>
                        <th ng-repeat="l in tableLabels">{{l}}</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="gd in grouppedData">
                        <td>{{gd.date}}</td>
                        <td ng-repeat="p in tableProperties" on-finish-render>{{gd[p]}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div class="content_loader" ng-hide="log_ready"></div>
            <div ng-hide="log_ready">
                <p style="text-align: center; padding-bottom: 10px;">Aggiornamento dati in corso...</p>
            </div>
            <div ng-show="logsMessage !== ''">
                <p style="text-align: center; padding-bottom: 10px;">{{logsMessage}}</p>
            </div>
        </div>
    </div>
</div>
<script src="apioProperties/Log/template/base/base.js"></script>